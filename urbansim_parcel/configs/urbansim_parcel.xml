<?xml version='1.0' encoding='UTF-8'?>
<opus_project>
  <general>
    <description type="string" >Default UrbanSim parcel project</description>
  </general>
  <model_manager>
    <model_system type="dictionary" >
      <real_estate_price_model type="dictionary" >
        <import type="dictionary" >
          <urbansim.models.real_estate_price_model type="string" >RealEstatePriceModel</urbansim.models.real_estate_price_model>
        </import>
        <init type="dictionary" >
          <name type="string" >RealEstatePriceModel</name>
          <arguments type="dictionary" >
            <submodel_string type="string" >'land_use_type_id'</submodel_string>
            <outcome_attribute type="string" >'ln_unit_price=ln(urbansim_parcel.parcel.unit_price)'</outcome_attribute>
            <filter_attribute type="string" >'numpy.logical_or(urbansim_parcel.parcel.building_sqft, urbansim_parcel.parcel.is_land_use_type_vacant)'</filter_attribute>
            <dataset_pool flags="hidden" type="string" >dataset_pool</dataset_pool>
            <estimate_config type="string" >Resources({'save_predicted_values_and_errors': False})</estimate_config>
          </arguments>
        </init>
        <prepare_for_run type="dictionary" >
          <name type="string" >prepare_for_run</name>
          <arguments type="dictionary" >
            <specification_storage type="string" >base_cache_storage</specification_storage>
            <specification_table type="string" >'real_estate_price_model_specification'</specification_table>
            <coefficients_storage type="string" >base_cache_storage</coefficients_storage>
            <coefficients_table type="string" >'real_estate_price_model_coefficients'</coefficients_table>
          </arguments>
          <output flags="hidden" type="string" >(specification, coefficients)</output>
        </prepare_for_run>
        <run type="dictionary" >
          <arguments type="dictionary" >
            <specification flags="hidden" type="string" >specification</specification>
            <coefficients flags="hidden" type="string" >coefficients</coefficients>
            <dataset type="string" >parcel</dataset>
            <data_objects flags="hidden" type="string" >datasets</data_objects>
            <run_config type="string" >Resources({'exclude_outliers_from_initial_error': True, 'outlier_is_less_than':20.0855, 'outlier_is_greater_than': 1096.63})</run_config>
          </arguments>
        </run>
        <prepare_for_estimate type="dictionary" >
          <name type="string" >prepare_for_estimate</name>
          <arguments type="dictionary" >
            <specification_storage type="string" >base_cache_storage</specification_storage>
            <specification_table type="string" >real_estate_price_model_specification</specification_table>
            <filter_variable type="string" >'numpy.logical_and(urbansim_parcel.parcel.unit_price&gt;20.0855, urbansim_parcel.parcel.unit_price&lt;1096.63, urbansim_parcel.parcel.existing_units&gt;100)'</filter_variable>
            <dataset type="string" >parcel</dataset>
            <threshold type="integer" >1</threshold>
          </arguments>
          <output flags="hidden" type="string" >(specification, index)</output>
        </prepare_for_estimate>
        <estimate type="dictionary" >
          <arguments type="dictionary" >
            <specification flags="hidden" type="string" >specification</specification>
            <outcome_attribute type="string" >'ln_unit_price=ln(urbansim_parcel.parcel.unit_price)'</outcome_attribute>
            <dataset type="string" >parcel</dataset>
            <index flags="hidden" type="string" >index</index>
            <data_objects flags="hidden" type="string" >datasets</data_objects>
            <debuglevel type="string" >debuglevel</debuglevel>
            <procedure type="string" >opus_core.estimate_linear_regression</procedure>
          </arguments>
          <output flags="hidden" type="string" >(coefficients, dummy)</output>
        </estimate>
      </real_estate_price_model>
      
      <employment_transition_model  parser_action="execute" type="class">
          <Class_name flags="hidden" type="string">EmploymentTransitionModelConfigurationCreator</Class_name>
          <Class_path flags="hidden" type="string">urbansim.configurations.employment_transition_model_configuration_creator</Class_path>
          <location_id_name type="string">building_id</location_id_name>
      </employment_transition_model>
 
      <employment_relocation_model  parser_action="execute" type="class">
          <Class_name flags="hidden" type="string">EmploymentRelocationModelConfigurationCreator</Class_name>
          <Class_path flags="hidden" type="string">urbansim.configurations.employment_relocation_model_configuration_creator</Class_path>
          <location_id_name type="string">building_id</location_id_name>
          <output_index type="string">erm_index</output_index>
      </employment_relocation_model>
 
      <employment_location_choice_model  parser_action="execute" type="class">
          <Class_name flags="hidden" type="string">EmploymentLocationChoiceModelConfigurationCreator</Class_name>
          <Class_path flags="hidden" type="string">urbansim.configurations.employment_location_choice_model_configuration_creator</Class_path>
          <location_set type="string">building</location_set>
          <input_index type="string">erm_index</input_index>
           <estimation_weight_string type="string">vacant_SSS_job_space</estimation_weight_string>
           <agents_for_estimation_table type="string">jobs_for_estimation</agents_for_estimation_table>
           <number_of_units_string type="string">total_SSS_job_space</number_of_units_string>
           <filter type="string">building.non_residential_sqft</filter>
           <filter_for_estimation type="string">numpy.logical_and(job.building_id&gt;0, job.disaggregate(building.non_residential_sqft) &gt; 0)</filter_for_estimation>
           <portion_to_unplace type="integer">0</portion_to_unplace>
           <capacity_string type="string">vacant_SSS_job_space</capacity_string>
           <variable_package type="string">urbansim_parcel</variable_package>
          <lottery_max_iterations type="integer">10</lottery_max_iterations>
      </employment_location_choice_model>
 
      <home_based_employment_location_choice_model  parser_action="execute" type="class">
          <Class_name flags="hidden" type="string">EmploymentLocationChoiceModelConfigurationCreator</Class_name>
          <Class_path flags="hidden" type="string">urbansim.configurations.employment_location_choice_model_configuration_creator</Class_path>
          <location_set type="string">building</location_set>
          <input_index type="string">erm_index</input_index>
           <estimation_weight_string type="string">vacant_home_based_job_space</estimation_weight_string>
           <agents_for_estimation_table type="string" parser_action="empty_string_to_None"></agents_for_estimation_table>
           <estimation_size_agents type="float">0.4</estimation_size_agents>
           <number_of_units_string type="string" parser_action="empty_string_to_None"></number_of_units_string>
           <filter type="string">numpy.logical_and(building.residential_units, building.sqft_per_unit)</filter>
           <filter_for_estimation type="string">numpy.logical_and(job.building_id&gt;0, job.disaggregate(building.sqft_per_unit &gt; 0))</filter_for_estimation>
           <portion_to_unplace type="integer">0</portion_to_unplace>
           <capacity_string type="string">vacant_home_based_job_space</capacity_string>
           <variable_package type="string">urbansim_parcel</variable_package>
          <lottery_max_iterations type="integer">7</lottery_max_iterations>
      </home_based_employment_location_choice_model>
 
 
      <distribute_unplaced_jobs_model  parser_action="execute" type="class">
          <Class_name flags="hidden" type="string">DistributeUnplacedJobsModelConfigurationCreator</Class_name>
          <Class_path flags="hidden" type="string">urbansim.configurations.distribute_unplaced_jobs_model_configuration_creator</Class_path>
          <location_set type="string">building</location_set>
          <filter type="string">urbansim_parcel.building.is_governmental</filter>
          <agents_filter type="string">urbansim.job.is_in_employment_sector_group_scalable_sectors</agents_filter>
      </distribute_unplaced_jobs_model>
 
      <governmental_employment_location_choice_model  parser_action="execute" type="class">
          <Class_name flags="hidden" type="string">GovernmentalEmploymentLocationChoiceModelConfigurationCreator</Class_name>
          <Class_path flags="hidden" type="string">urbansim.configurations.governmental_employment_location_choice_model_configuration_creator</Class_path>
          <input_index type="string">erm_index</input_index>
          <location_set type="string">building</location_set>
          <filter type="string">urbansim_parcel.building.is_governmental</filter>
      </governmental_employment_location_choice_model>
 
 

    </model_system>
  </model_manager>
  <scenario_manager>
    <urbansim_parcel_baseline type="scenario" >
      <parent_old_format type="dictionary" >
        <Class_name type="string" >UrbansimParcelConfiguration</Class_name>
        <Class_path type="string" >urbansim_parcel.configs.controller_config</Class_path>
      </parent_old_format>
    </urbansim_parcel_baseline>
  </scenario_manager>
</opus_project>
