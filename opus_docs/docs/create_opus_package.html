<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html>
 
<head>
<title>Creating an Opus Package</title>
<link href="style/book.css" rel="stylesheet" type="text/css"> 
<meta name="Microsoft Border" content="none, default">
</head>

<body><!-- HEAD BANNER BEGINS HERE :: to be placed immediately below body tag -->
  <table border="0" width="100%" cellspacing="0">
    <tr>
      <td><a href="http://www.urbansim.org/"><img border="0" src="images/new-logo-medium.gif" width="105" height="45" /></a></td>
    </tr>
    <tr>
      <td width="100%" colspan="2" class="breadcrumbbox" bgcolor="#EEEEEE"><a href="index.html">Installing Opus &amp; UrbanSim</a>
        &gt; Creating an Opus Package</td>
    </tr>
  </table>
<!-- HEAD BANNER ENDS HERE -->
<h1>Creating an Opus Package</h1>

<p>In general, you will want to create your own Opus package to contain your
configuration information, define new variables for existing datasets, define
new datasets, define models, etc. These files should not be put into Python’s
‘site-packages’ directory (where Opus is installed by default), since they
would be over-written when you upgrade Opus or UrbanSim. </p>
<p>Instead, we recommend that you create a workspace into which you create your
own Opus package(s) to contain these files. To do this:: </p>
<ol>
  <li>Create a directory into which to place your Opus package, e.g. ‘C:/myworkspace’.</li>
  <li>Create a new Opus package pre-populated with many of the files you
    probably will want (in the following commands, replace <font face="Courier New" size="2">atlantis</font>
    with the appropriate name for your organization):</li>
</ol>
<pre>&gt;&gt;&gt; from opus_core.opus_package import create_package 
&gt;&gt;&gt; create_package('c:/myworkspace', 'atlantis') </pre>
<p>This will create a new directory under myworkspace, e.g. ‘C:/workshop/atlantis’.&nbsp;
This directory contains a set of commonly useful files and directories, though
some may not suitable to your application. For instance, you might want to
delete the following four files that are useful in the CUSPA infrastructure, but
probably not in yours: </p>
<ul>
  <li><b>.cvsignore</b> - Informs the CVS version control system of files to not
    commit to the repository (see <a href="http://www.nongnu.org/cvs/">http://www.nongnu.org/cvs/</a>).
  </li>
  <li><b>.project</b> - Eclipse’s container for project-specific information
    (see <a href="http://www.eclipse.org/">http://www.eclipse.org/</a>). </li>
  <li><b>build.xml</b> and <b>fireman.xml</b> -&nbsp; Directives for CUSPA’s
    automated build system, which we call “Fireman” (see <a href="http://trondheim.cs.washington.edu/fireman/">http://trondheim.cs.washington.edu/fireman/</a>).
  </li>
</ul>
<p>Each Opus package may have a different set of files and directories,
depending upon what is needed.&nbsp; To illustrate what an Opus package may
contain, consider the psrc package we created for the Puget Sound Regional
Council’s (PSRC) application of UrbanSim.&nbsp; Here are some of the
directories and files it contains: </p>
<pre>county/                         &lt;-- Variables for the county dataset
    __init__.py                 &lt;-- Makes this into a Python package
    de_population_DDD.py        &lt;-- An Opus variable
    ...
docs/                           &lt;-- PSRC-specific documents
emme2/                          &lt;-- Miscellaneous stuff for PSRC's emme/2 use
estimation/                     &lt;-- Scripts for estimating PSRC's models
    __init__.py                 &lt;-- Makes this into a Python package
    estimate_dm_psrc.py         &lt;-- Script to estimate the developer model
    estimate_elcm_psrc.py       &lt;-- Script to estimate the employment location choice model
    ...
faz/                            &lt;-- Additional variables for the faz dataset
gridcell/                       &lt;-- Additional variables for the gridcell dataset
household_x_gridcell/             &lt;-- Additional variables for the household_x_gridcell dataset
indicators/                     &lt;-- GUI and scripts to generate indicators
large_area/                     &lt;-- Variables for the large_area dataset
run_config/                     &lt;-- Configurations for different simulation runs
    baseline.py                 &lt;-- Configuration for baseline run
    no_ugb.py                   &lt;-- Configuration for baseline without UGB
    ...
tests/                          &lt;-- Automated tests
    __init__.py                 &lt;-- Makes this into a Python package
    all_tests.py                &lt;-- Runs all of this Opus package's tests
    test_estimation_dm_psrc.py  &lt;-- Automated tests for estimate_dm_psrc.py
    ...
tools/                          &lt;-- Miscellaneous small tools
zone/                           &lt;-- Additional variables for the zone dataset
__init__.py                     &lt;-- Makes this into a Python package
opus_package_info.py            &lt;-- Information about this Opus package</pre>

</body>
</html>