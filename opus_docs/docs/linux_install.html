<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html>
 
<head>
<title>Installing on Linux</title>
<link href="style/book.css" rel="stylesheet" type="text/css"> 
<meta name="Microsoft Border" content="none, default">
</head>

<body><!-- HEAD BANNER BEGINS HERE :: to be placed immediately below body tag -->
  <table border="0" width="100%" cellspacing="0">
    <tr>
      <td><a href="http://www.urbansim.org/"><img border="0" src="images/new-logo-medium.gif" width="105" height="45" /></a></td>
    </tr>
    <tr>
      <td width="100%" colspan="2" class="breadcrumbbox" bgcolor="#EEEEEE"><a href="index.shtml">Opus</a>
        &gt; <a href="install.html"> Installing</a> &gt; Installing on Linux</td>
    </tr>
  </table>
<!-- HEAD BANNER ENDS HERE -->
<h1>Installing Opus &amp; UrbanSim on Linux</h1>

<p>This following instructions are for installing Opus &amp; UrbanSim on Linux.&nbsp;
These installation directions have been tested with SuSe Linux and Intel
processors. </p>
<ol>
  <li><a href="#python">Install Python and Python libraries</a></li>
  <li><a href="#mysql">Install MySQL</a></li>
  <li><a href="#opus">Install Opus and UrbanSim</a></li>
  <li><a href="#create_package">Create a workspace for your own Opus package</a></li>
  <li><a href="#environment">Define Environment Variables for Opus and UrbanSim</a></li>
  <li><a href="#test">Test your installation</a></li>
  <li>(optional) <a href="#dev">
Set up your software development environment</a></li>
</ol>
<h2>Step 1: <a name="python">Installing Python</a></h2>
<p>Opus and UrbanSim are implemented in Python, making heavy use of numerical
Python packages and other software.&nbsp; Currently, Opus and UrbanSim are known
to work on either Python 2.3.5 or Python 2.4.3.&nbsp; The <a href="http://www.python.org">official
Python website</a> includes documentation, downloads, and much else.</p>
<p>In addition, some additional Python libraries are required, recommended, or
optional for use with Opus.&nbsp; You must have the required libraries to run
Opus.&nbsp; The recommended libraries are not necessary to run Opus, but certain
functionality will be unavailable without them.&nbsp; The optional libraries are
Python modules that are needed only in special cases.&nbsp;</p>
<p>Caution! There will be different binaries of these libraries for Python 2.3.5
and Python 2.4.3 - make sure you download the correct version for the Python you
are using.</p>
<p>SuSe Linux comes with Python. If it is not installed by the initial
installation, you can install Python using <a href="http://en.opensuse.org/YaST">YaST</a>
or other software manager. Make sure that the python-devel libraries is also
installed on a Linux system.</p>
<p>Download the <a href="python_packages.html">required, recommended and
optional Python packages</a> and then do the following to install each Python
package:</p>
<ol>
  <li>Extract the tar file (e.g. <i>filename</i>) by:</li>
</ol>
<blockquote>
  <pre><font face="Courier New" size="2">tar xvfz <i>filename</i></font></pre>
</blockquote>
<ol start="2">
  <li>From the command line, connect to that directory.&nbsp; Follow the
    directions in the unzipped README.&nbsp; Usually, this involves issuing the command:</li>
</ol>
<blockquote>
  <pre>sudo python setup.py install</pre>
  <p>This will compile the package and install it in the site-packages
  directory. (The “sudo” part performs the command as the superuser.&nbsp;
  You’ll probably need superuser permissions to install into site-packages.)<br>
  <br>
  If you do not have superuser permissions, you need to install python to a
  place where&nbsp; you do have write permission and then use that version of
  python to invoke the setup.py command.&nbsp; For instance, if you installed
  python2.4 to /homes/me/bin/python2.4&nbsp; issuing the following command will
  install the package into the site-packages directory of that version of
  python:</p>
  <pre>/homes/me/bin/python2.4 setup.py install</pre>
</blockquote>
<ol start="3">
  <li>If you get complaints about the wrong compiler version, you may need to
    install the appropriate gcc compiler.</li>
</ol>
<h2>Step 2: <a name="mysql">Installing &amp; Configuring MySQL</a></h2>
<p>MySQL is an efficient, open-source SQL database. To run UrbanSim you’ll
either need to have a local copy or else run on a shared server.&nbsp;</p>
<p>SuSe 10.0 contains MySQL version 4.1.13; be sure to also install packages
mysql-devel and mysql-shared.&nbsp; If MySQL is not installed, or to install a
different version of MySQL, follow the instructions on <a href="http://dev.mysql.com/downloads/">http://dev.mysql.com/downloads/</a>.&nbsp;&nbsp;</p>
<p>Opus works with MySQL 4.1 and 5.0.</p>
<ol>
  <li>
  Choose which version of MySQL to use, and download the appropriate version it
  from <a href="http://dev.mysql.com/downloads/">http://dev.mysql.com/downloads/</a>.
  </li>
  <li>Install and configure MySQL.</li>
</ol>
<p>MySQL runs as a server.&nbsp; The server can be started from the command line
(read the manual pages for mysqld) or, more conveniently, through a system
manager, such as YaST’s System Services (Runlevel).</p>
<p>In addition to MySQL itself, you might get the <a href="http://www.mysql.com/products/tools/query-browser/">MySQL
Query Browser</a> (for prowling around in UrbanSim databases using a graphical
interface), and the <a href="http://www.mysql.com/products/tools/administrator/">MySQL
Administrator</a>. These are both available as binaries. Both software packages
are contained in SuSe Linux 10.0.</p>
<h2>Step 3: <a name="opus">Installing Opus and UrbanSim</a></h2>
<ol>
  <li>Download the Unix/Linux installer file from “Unix/Linux” link on our <a href="http://www.urbansim.org/download/index.shtml">download
    page</a>.</li>
  <li>Unzip it to any convenient directory, for example to a new directory ‘opus_install’
    on your desktop or home directory.&nbsp; It doesn’t matter where this
    directory is, and you can discard it after Opus/UrbanSim is installed
    (although we will use it briefly in testing the installation, so don’t
    throw it out right away).&nbsp; For concreteness, suppose that you put the
    directory in your home directory, i.e. ‘/home/yourname/opus_install’
    (replace ‘yourname’ with the user name for your home directory).&nbsp;</li>
  <li>Open a shell.&nbsp;</li>
  <li>Change the current working directory to 'opus' subdirectory in the ‘opus_install’
    directory, e.g. ‘opus-0.8’.&nbsp; (So if you put this in the suggested
    place, on the Mac, type <font face="Courier New" size="2"> cd /home/yourname/opus_install/opus-0.8</font>.)&nbsp;</li>
  <li>Finally, type the command:</li>
</ol>
<blockquote>
  <pre>sudo python setup.py install. </pre>
  <p>This will compile and install this Opus packages, including urbansim, in your Python ‘site-packages’
  library.</p>
</blockquote>
<h2>Step 4: <a name="create_package">Creating your own Opus package</a></h2>
<p>Follow <a href="create_opus_package.html">these instructions</a> to create an
Opus package in which you can place your own code.&nbsp;&nbsp;</p>
<h2>Step 5: <a name="environment">Defining Environment Variables</a>&nbsp;</h2>
<p>UrbanSim requires the following four environment variables.&nbsp; The first
three describe how to connect to MySQL.&nbsp; The last describes how to find the
Python code.</p>
<ul>
  <li><b>MYSQLHOSTNAMEFORTESTS</b> - This environment variable is only used
    for running unit tests that use MySQL. These tests use the MySQL database
	hostname described by this environment variable.  If this environment
	variable is not defined, unit tests that expect this database server
	will not run, but will instead print a warning message.</li>
  <li><b>MYSQLHOSTNAME</b> - The name of the MySQL server. Use <font face="Courier New" size="2">localhost</font>
    for the MySQL server on the same computer.&nbsp;</li>
  <li><b>MYSQLUSERNAME</b> - This should have the MySQL user name to be used for
    querying the UrbanSim database. In the lab, we use the MySQL username “urbansim”
    as a convenient way to allow sharing scripts among all the lab members.
    (Note that MySQL user names are independent of login names.)&nbsp;</li>
  <li><b>MYSQLPASSWORD</b> - The password for the MySQL user name given
    above.&nbsp;</li>
  <li><b>PYTHONPATH</b> - This environment variable tells Python where to look
    for files outside of Python’s ‘site-packages’ directory (which is the
    default location for Python installers). Change PYTHONPATH to include the
    path to the directory containing your ‘workspace’, e.g. ‘C:/workspace’.&nbsp;
    In addition, if you install Opus to somewhere other than Python’s ‘site-packages’
    directory (which is the default location for Python installers) you will
    need to the add that directory, e.g. ‘C:/opus_install’, to the
    PYTHONPATH.</li>
</ul>
<p>The most convenient way is to set the environment variables in your .bashrc/.cshrc
file. The syntax depends on the type of shell you use. For example you would
insert the following lines into .bashrc:</p>
<pre>export MYSQLHOSTNAME=localhost
export MYSQLUSERNAME=urbansim
export MYSQLPASSWORD=thesecretpassword</pre>
<h2>Step 6: <a name="test">Test your installation</a></h2>
<p>Follow <a href="test_install.html">these instructions</a> to test your
installation.</p>
<h2>Step 7: <a name="dev">(optional)
Set up your development environment</a></h2>

<p>If you plan to be editing code in one or more Opus packages, including your
own package(s), follow <a href="developer_setup.html">these instructions</a> to setup your
softare development environment.</p>

</body>
</html>