
<!Doctype HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html> 


  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="../style/book.css" rel="stylesheet" type="text/css">
    <base target="_top">
    <title>Brief Installation instructions for Mac</title>
  </head>

  <body>
    <!-- HEAD BANNER BEGINS HERE :: to be placed immediately below body tag -->
    <table border="0" cellspacing="0" width="100%">
      <tbody>
	<tr>
	  <td><a href="http://www.urbansim.org/"><img src="images/new-logo-medium.gif" border="0" height="45" width="105" alt="urbansim logo"></a></td>
	</tr>
	<tr>
	  <td colspan="2" class="breadcrumbbox" bgcolor="#eeeeee" width="100%"><a href="index.html">Installing Opus &amp; UrbanSim</a> &gt;
	    Installing on Macintosh - Brief instructions</td>
	</tr>
      </tbody>
    </table>

    <!-- HEAD BANNER ENDS HERE -->
    
    <h1>
      <h1>Brief Instructions on Installing Opus &amp; UrbanSim on OSX</h1>
    </h1>
    <font size=4></font>
    <p>
      The following instructions are the brief version for installing Opus and UrbanSim and their requirements. It only lists the essential information that you need to download and install Opus and UrbanSim. If there is some step that is confusing or you want more elaborate information, you can always see the corresponding section in the <a href="mac_install.html"> regular installation guide</a>.
      <br>
      
      <ol>
	<li>
	  <a href="#python">Installing Python</a>
	</li>
	<li>
	  (optional) <a href="#mysql">Installing MySQL</a>
	</li>
	<li>
	  <a href="#libraries">Installing Python libraries</a>
	</li>
	<li>
	  <a href="#opus">Installing Opus and UrbanSim</a>
	</li>
	<li>
	  <a href="#environment">Defining Environment Variables for Opus and
	    UrbanSim</a>
	</li>
	<li>
	  <a href="#test">Testing your installation</a>
	</li>
	<li>
	  (optional)&nbsp;<a href="#create_package">Creating your own Opus package</a>
	</li>
      </ol>
      <h2>
	Step 1: <a name="python">Installing Python</a>&nbsp;
      </h2>
      If you have less than version 2.5.1 of Python (the version that comes with OSX Leopard), download and install <a href="http://www.python.org/downloads">Python</a>.
      <h2>
	(optional) Step 2: <a name="mysql">Installing MySQL</a>
      </h2>
    <p>
      Opus works with MySQL 4.1 and 5.0. Download and install MySQL from <a href="http://dev.mysql.com/downloads/">MySQL Downloads</a>.

    <p>
      Additional tools for easier MySQL handling (not required but handy)
      <ul>
	<li><a href="http://www.mysql.com/products/tools/query-browser/">MySQL Query Browser</a></li>		
	<li><a href="http://www.mysql.com/products/tools/administrator/">MySQL Administrator</a></li>
      </ul>

    <p>
      See the <a href="mysqlinstall.4.1.html">Opus/UrbanSim MySQL Installation and
	Configuration Page</a> for additional specific configuration steps. &nbsp;This
      page is written for Windows, but is straightforward to use for the Mac as
      well.
    </p>
    
    <h2>
      Step 3: <a name=libraries>Installing Python Libraries and Qt</a>
    </h2>
    <h2>
      <a name="libraries"></a>
    </h2>
    <h3>3.1 Prerequisites</h3>
    Make sure you have a suitable environment for building from source. <br>
    If you don't have one, you can get Xcode from your installation discs or get a recent version from <a href="http://developer.apple.com/tools/download/">Apple Tools Download</a>.<br>
    You also need a Fortran compiler to build SciPy. Download and install GNU Fortran from <a href="http://r.research.att.com/gfortran-4.2.3.dmg">here</a>.

    <h3> 3.2 Installing the required python libraries </h3>
    The process of building and installing python packages is made much easier using EasyInstall.<br>
    To install EasyInstall, download <a href="http://peak.telecommunity.com/dist/ez_setup.py">ez_setup.py</a> to your
    computer and enter
    <pre>
      $ python ez_setup.py</pre>

    If you use an older version of OSX than Leopard, you also need
    
    <ul>
      <li>
	<a href="http://pythonmac.org/packages/py25-fat/index.html">pytz</a>
      </li>
      <li>
	<a href="http://pythonmac.org/packages/py25-fat/index.html">python-dateutil</a>.
      </li>
    </ul>
    <br>

    <p>To install the required Python modules using <tt>easy_install</tt>; type the following commands in a Terminal window:</p>
    <pre>
      $ easy_install numpy
      $ easy_install scipy
      $ easy_install matplotlib
      $ easy_install sqlalchemy
      $ easy_install elixir</pre>

    If you don't want to install using easy_install, or if easy_install for some reason does not work, you can download and install from the packages respective home pages listed below.
    <ul>
      <li><a href="http://numpy.scipy.org/">NumPy</a></li>
      <li><a href="http://www.scipy.org/">SciPy</a></li>
      <li><a href="http://matplotlib.sourceforge.net/">MatPlotLib</a></li>
      <li><a href="http://www.sqlalchemy.org/">SQLAlchemy</a></li>
      <li><a href="http://elixir.ematia.de/trac/wiki">Elixir</a></li>
    </ul>
    <p>
      You may also need to download and install the following packages (not available through <tt>easy_install</tt>),
      <ul>
	<li>(optional)<a href="http://rpy.sourceforge.net/">RPy</a>, if you are using R</li>
	<li>(optional)<a href="http://sourceforge.net/projects/dbfpy">dbfpy</a>, if you need to use .dbf files (for example, those produced by ArcGIS)</li>
	<li>(optional)<a href="http://sourceforge.net/projects/mysql-python">MySQL-python</a>, if you use a MySQL database. Currently this installation requires some <a href="http://www.keningle.com/?p=11">additional steps</a></li>
      </ul>  
    </p>

    <h3>3.3 Installing QT and QT bindings for Python</h3>
    Download and install these packages
    <ul>
      <li><a href="http://trolltech.com/developer/downloads/qt/mac">Trolltech QT for Mac</a></li>
      <li><a href="http://www.riverbankcomputing.co.uk/software/sip/download">SIP</a> (make sure to pick the Unix/Mac version)</li>
      <li><a href="http://www.riverbankcomputing.co.uk/software/pyqt/download">PyQt</a> (make sure to pick the Mac version)</li>
    </ul>

    <b>Installation order is important.</b> They must be installed in the order listed above.<br>

    <h2>
      Step 4: <a name="opus">Installing Opus and UrbanSim</a>
    </h2>

    <p>The installation of Opus and UrbanSim is divided into two parts.<br>
      The first part is to download and unzip the <a href="http://www.urbansim.org/opus/releases/opus-4-2-dev/opus-4-2-dev.zip">sample data</a>.
    </p>

    <p>The next part is getting the source code from the repositories.<br>
      If you are using an IDE (such as Eclipse), you might want to read <a href="ide_setup.html">Installing Opus and UrbanSim using an IDE</a>.<br><br>
      Otherwise continue reading on this page.
      
    <p>
      Unpacking the zip from part 1 will result in a directory named <tt>opus</tt>.<br>
      Locate that directory with a Terminal window and choose to either check out only the bare minimum for the tutorials by entering:
      <pre>
      $ cd src
      $ svn co https://trondheim.cs.washington.edu/svn/opus/trunk/opus_core
      $ svn co https://trondheim.cs.washington.edu/svn/opus/trunk/urbansim
      $ svn co https://trondheim.cs.washington.edu/svn/opus/trunk/eugene
      $ svn co https://trondheim.cs.washington.edu/svn/opus/trunk/opus_gui </pre>
    <b>or</b>, to check out the <i>entire</i> source directory, enter:
    <pre>$ svn co https://trondheim.cs.washington.edu/svn/opus/trunk/ src </pre>
    
    <h2>
      <a name=environment>Step 5: Defining Environment Variables</a>
    </h2>
    
    <p>
      UrbanSim requires the following environment variables to be set:
      <ul>
	<li><tt><b>PYTHONPATH</b></tt> Should include the path to the directory holding the source code (for example <tt>/Users/<i>yourname</i>/opus/src/</tt>)</li>
	<li><tt><b>OPUS_HOME</b></tt> Should be set to the path of the <tt>opus</tt> directory (for example <tt>/Users/<i>yourname</i>/opus/</tt>)</li>
      </ul>

      Additionally you maybe want to set these additional variables
      <ul>
	<li><tt><b>OPUS_DATA_PATH</b></tt> The directory where the sample data and data caches are kept. It defaults to the <tt>data</tt> directory under <tt>OPUS_HOME</tt>, so you only need to modify this if you want to keep your data elsewhere.</li>
	<li><tt><b>MYSQLHOSTNAMEFORTESTS</b></tt> MySQL host to use for unit testing</li>
	<li><tt><b>MYSQLHOSTNAME</b></tt> Hostname for the MySQL server</li>
	<li><tt><b>MYSQLUSERNAME</b></tt> Username for querying MySQL</li>
	<li><tt><b>MYSQLPASSWORD</b></tt> Password for username given above</li>
	<p>
	  To see more extensive information about the environment variables, or need instructions on how to set them; please see <a href="mac_install.html">section 5</a> of the more extensive installation instructions.	
      </ul>
    <h2>
      Step 6: <a name=test>Testing your installation</a>
    </h2>
    <p>
      Follow <a href="test_install.html">these instructions</a> to test your
      installation.
    </p>
    <h2>
      Step 7: <a name=create_package>(optional) Creating your own Opus package</a>
    </h2>
    <p>
      If you want to create your own Opus package in which to place your code,
      follow these&nbsp;<a href="create_opus_package.html">instructions to create an
	Opus package</a>. &nbsp;You don't need to do this though just to run the
      Eugene tutorial, or otherwise use an existing database.
    </p>
    <br>
