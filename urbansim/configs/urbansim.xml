<opus_project>
  <general>
    <description type="string" >Base UrbanSim project</description>
  </general>
  <data_manager_dbstree>
    <database_templates type="db_templates" setexpanded="True" >
      <ms_sql_server_template type="db_template" setexpanded="False" >
        <host_name type="string" choices="Required|Optional" > Required </host_name>
        <protocol type="string" choices="Required|Optional" > Required </protocol>
        <user_name type="string" choices="Required|Optional" > Required </user_name>
        <password type="password" choices="Required|Optional" > Required </password>
        <use_environment_variables type="boolean" choices="Required|Optional" > Required
   </use_environment_variables>
      </ms_sql_server_template>
      <esri_personal_geodb_template type="db_template" setexpanded="False" >
        <database_path type="string" choices="Required|Optional" > Required </database_path>
        <some_other_param type="string" choices="Required|Optional" > Optional </some_other_param>
      </esri_personal_geodb_template>
    </database_templates>
    <database_library type="database_library" setexpanded="True" >
      <urbansim_db1_example type="db_connection" setexpanded="True" >
        <host_name type="string" />
        <protocol type="string" />
        <user_name type="string" />
        <password type="password" />
        <use_environment_variables type="boolean" choices="True|False" >True</use_environment_variables>
      </urbansim_db1_example>
    </database_library>
  </data_manager_dbstree>
  <data_manager>
    <Tool_Library type="tool_library" setexpanded="True" >
      <tool_path flags="hidden" type="tool_path" >tools</tool_path>
      <sql_data_to_opus_tool type="tool_file" >
        <name type="tool_name" >sql_data_to_opus</name>
        <params type="param_template" >
          <sql_db_name type="string" choices="Required|Optional" >Required</sql_db_name>
          <table_name type="string" choices="Required|Optional" >Required</table_name>
          <opus_data_directory type="dir_path" choices="Required|Optional" >Required</opus_data_directory>
          <opus_data_year type="string" choices="Required|Optional" >Required</opus_data_year>
        </params>
      </sql_data_to_opus_tool>
      <opus_database_to_sql_tool type="tool_file" >
        <name type="tool_name" >opus_database_to_sql</name>
        <params type="param_template" >
          <sql_db_name type="string" choices="Required|Optional" >Required</sql_db_name>
          <opus_data_directory type="dir_path" choices="Required|Optional" >Required</opus_data_directory>
          <opus_data_year type="string" choices="Required|Optional" >Required</opus_data_year>
          <opus_table_name type="string" choices="Required|Optional" >Required</opus_table_name>
        </params>
      </opus_database_to_sql_tool>
      <opus_database_to_esri_tool type="tool_file" >
        <name type="tool_name" >opus_database_to_esri</name>
        <params type="param_template" >
          <esri_data_path type="string" choices="Required|Optional" >Required</esri_data_path>
          <opus_data_directory type="dir_path" choices="Required|Optional" >Required</opus_data_directory>
          <opus_data_year type="string" choices="Required|Optional" >Required</opus_data_year>
          <opus_table_name type="string" choices="Required|Optional" >Required</opus_table_name>
        </params>
      </opus_database_to_esri_tool>
      <opus_dataset_to_sql_tool type="tool_file" >
        <name type="tool_name" >opus_dataset_to_sql</name>
        <params type="param_template" >
          <sql_db_name type="string" choices="Required|Optional" >Required</sql_db_name>
          <opus_data_directory type="dir_path" choices="Required|Optional" >Required</opus_data_directory>
          <opus_data_year type="string" choices="Required|Optional" >Required</opus_data_year>
          <opus_table_name type="string" choices="Required|Optional" >Required</opus_table_name>
        </params>
      </opus_dataset_to_sql_tool>
      <opus_dataset_to_esri_tool type="tool_file" >
        <name type="tool_name" >opus_dataset_to_esri</name>
        <params type="param_template" >
          <esri_data_path type="dir_path" choices="Required|Optional" >Required</esri_data_path>
          <opus_data_directory type="dir_path" choices="Required|Optional" >Required</opus_data_directory>
          <opus_data_year type="string" choices="Required|Optional" >Required</opus_data_year>
          <opus_table_name type="string" choices="Required|Optional" >Required</opus_table_name>
        </params>
      </opus_dataset_to_esri_tool>
      <esri_buffer_tool type="tool_file" >
        <name type="tool_name" >esri_buffer</name>
        <params type="param_template" >
          <input_shapefile type="string" choices="Required|Optional" >Required</input_shapefile>
          <output_shapefile type="string" choices="Required|Optional" >Required</output_shapefile>
          <buffer_size type="string" choices="Required|Optional" >Required</buffer_size>
        </params>
      </esri_buffer_tool>
    </Tool_Library>
    <Tool_Sets type="tool_sets" >
      <sample_tool_set type="tool_set" />
      <opus_database_to_sql type="tool_set" setexpanded="False" >
        <classification flags="hidden" type="classification" >database</classification>
        <opus_database_to_sql_config type="tool_config" >
          <tool_hook flags="hidden" type="tool_library_ref" >opus_database_to_sql_tool</tool_hook>
          <sql_db_name type="string" >mytestdb</sql_db_name>
          <opus_data_directory type="dir_path" />
          <opus_data_year type="string" >ALL</opus_data_year>
          <opus_table_name type="string" >ALL</opus_table_name>
        </opus_database_to_sql_config>
      </opus_database_to_sql>
      <opus_database_to_esri type="tool_set" setexpanded="False" >
        <classification flags="hidden" type="classification" >database</classification>
        <opus_database_to_esri_config type="tool_config" >
          <tool_hook flags="hidden" type="tool_library_ref" >opus_database_to_esri_tool</tool_hook>
          <esri_data_path type="string" >c:\opus\data\seattle_parcel\output_geodb.gdb</esri_data_path>
          <opus_data_directory type="dir_path" />
          <opus_data_year type="string" >ALL</opus_data_year>
          <opus_table_name type="string" >ALL</opus_table_name>
        </opus_database_to_esri_config>
      </opus_database_to_esri>
      <opus_dataset_to_sql type="tool_set" setexpanded="False" >
        <classification flags="hidden" type="classification" >dataset</classification>
        <opus_dataset_to_sql_config type="tool_config" >
          <tool_hook flags="hidden" type="tool_library_ref" >opus_database_to_sql_tool</tool_hook>
          <sql_db_name type="string" >mytestdb</sql_db_name>
          <opus_data_directory type="dir_path" />
          <opus_data_year type="string" >ALL</opus_data_year>
          <opus_table_name type="string" >ALL</opus_table_name>
        </opus_dataset_to_sql_config>
      </opus_dataset_to_sql>
      <opus_dataset_to_esri type="tool_set" setexpanded="False" >
        <classification flags="hidden" type="classification" >dataset</classification>
        <opus_dataset_to_esri_config type="tool_config" >
          <tool_hook flags="hidden" type="tool_library_ref" >opus_database_to_esri_tool</tool_hook>
          <esri_data_path type="dir_path" >c:\opus\data\seattle_parcel\output_geodb.gdb</esri_data_path>
          <opus_data_directory type="dir_path" />
          <opus_data_year type="integer" ></opus_data_year>
          <opus_table_name type="integer" ></opus_table_name>
        </opus_dataset_to_esri_config>
      </opus_dataset_to_esri>
    </Tool_Sets>
  </data_manager>
  <model_manager>
    <model_system type="dictionary" >
      <simple_model_template copyable="True" type="dictionary" >
        <import flags="hidden" type="dictionary" >
          <opus_core.simple_model type="string" >SimpleModel</opus_core.simple_model>
        </import>
        <init type="dictionary" >
          <name flags="hidden" type="string" >SimpleModel</name>
        </init>
        <run type="dictionary" >
          <arguments type="dictionary" >
            <dataset type="string" >fill in</dataset>
            <expression type="quoted_string" >fill in</expression>
            <outcome_attribute parser_action="blank_to_None" type="quoted_string" />
            <dataset_pool flags="hidden" type="string" >dataset_pool</dataset_pool>
          </arguments>
        </run>
      </simple_model_template>
      <choice_model_template copyable="True" type="dictionary" >
        <import flags="hidden" type="dictionary" >
          <opus_core.choice_model type="string" >ChoiceModel</opus_core.choice_model>
        </import>
        <init type="dictionary" >
          <name flags="hidden" type="string" >ChoiceModel</name>
          <arguments type="dictionary" >
            <choice_set type="string" >fill in</choice_set>
            <utilities type="quoted_string" >opus_core.linear_utilities</utilities>
            <probabilities type="quoted_string" >opus_core.mnl_probabilities</probabilities>
            <choices type="quoted_string" >opus_core.random_choices</choices>
            <submodel_string parser_action="blank_to_None" type="string" />
            <choice_attribute_name type="quoted_string" >choice_id</choice_attribute_name>
            <interaction_pkg type="quoted_string" >opus_core</interaction_pkg>
            <run_config parser_action="blank_to_None" type="string" />
            <estimate_config type="dictionary" >
              <estimation_size_agents type="float" >1.0</estimation_size_agents>
            </estimate_config>
            <debuglevel flags="hidden" type="integer" >0</debuglevel>
            <dataset_pool flags="hidden" type="string" >dataset_pool</dataset_pool>
          </arguments>
        </init>
        <run type="dictionary" >
          <arguments type="dictionary" >
            <specification flags="hidden" type="string" >specification</specification>
            <coefficients flags="hidden" type="string" >coefficients</coefficients>
            <agent_set type="string" >fill in</agent_set>
            <agents_index flags="hidden" type="string" >cm_index</agents_index>
            <chunk_specification parser_action="blank_to_None" type="string" />
            <data_objects flags="hidden" type="string" >datasets</data_objects>
          </arguments>
        </run>
        <prepare_for_run type="dictionary" >
          <name flags="hidden" type="string" >prepare_for_run</name>
          <arguments type="dictionary" >
            <agent_set parser_action="blank_to_None" type="string" />
            <agent_filter parser_action="blank_to_None" type="quoted_string" />
            <specification_storage type="string" >base_cache_storage</specification_storage>
            <specification_table type="quoted_string" >choice_model_template_specification</specification_table>
            <coefficients_storage type="string" >base_cache_storage</coefficients_storage>
            <coefficients_table type="quoted_string" >choice_model_template_coefficients</coefficients_table>
            <sample_coefficients type="boolean" >False</sample_coefficients>
            <cache_storage flags="hidden" type="string" >base_cache_storage</cache_storage>
            <multiplicator type="integer" >1</multiplicator>
          </arguments>
          <output flags="hidden" type="string" >(specification, coefficients, cm_index)</output>
        </prepare_for_run>
        <estimate type="dictionary" >
          <arguments type="dictionary" >
            <specification flags="hidden" type="string" >specification</specification>
            <agent_set type="string" >fill in</agent_set>
            <agents_index flags="hidden" type="string" >cm_index</agents_index>
            <procedure type="quoted_string" >opus_core.bhhh_mnl_estimation</procedure>
            <data_objects flags="hidden" type="string" >datasets</data_objects>
          </arguments>
          <output flags="hidden" type="string" >(coefficients, dummy)</output>
        </estimate>
        <prepare_for_estimate type="dictionary" >
          <name flags="hidden" type="string" >prepare_for_estimate</name>
          <arguments type="dictionary" >
            <agent_set parser_action="blank_to_None" type="string" />
            <agent_filter parser_action="blank_to_None" type="quoted_string" />
            <specification_storage type="string" >base_cache_storage</specification_storage>
            <specification_table type="quoted_string" >choice_model_template_specification</specification_table>
          </arguments>
          <output flags="hidden" type="string" >(specification, cm_index)</output>
        </prepare_for_estimate>
      </choice_model_template>
      <regression_model_template copyable="True" type="dictionary" >
        <import flags="hidden" type="dictionary" >
          <opus_core.regression_model type="string" >RegressionModel</opus_core.regression_model>
        </import>
        <init type="dictionary" >
          <name flags="hidden" type="string" >RegressionModel</name>
          <arguments type="dictionary" >
            <regression_procedure type="quoted_string" >opus_core.linear_regression</regression_procedure>
            <submodel_string parser_action="blank_to_None" type="string" />
            <run_config parser_action="blank_to_None" type="string" />
            <estimate_config parser_action="blank_to_None" type="string" />
            <debuglevel flags="hidden" type="integer" >0</debuglevel>
            <dataset_pool flags="hidden" type="string" >dataset_pool</dataset_pool>
          </arguments>
        </init>
        <run type="dictionary" >
          <arguments type="dictionary" >
            <specification flags="hidden" type="string" >specification</specification>
            <coefficients flags="hidden" type="string" >coefficients</coefficients>
            <dataset type="string" >fill in</dataset>
            <index flags="hidden" parser_action="blank_to_None" type="string" >rm_index</index>
            <chunk_specification parser_action="blank_to_None" type="string" />
            <data_objects flags="hidden" type="string" >datasets</data_objects>
          </arguments>
        </run>
        <prepare_for_run type="dictionary" >
          <name flags="hidden" type="string" >prepare_for_run</name>
          <arguments type="dictionary" >
            <dataset parser_action="blank_to_None" type="string" />
            <dataset_filter parser_action="blank_to_None" type="quoted_string" />
            <specification_storage type="string" >base_cache_storage</specification_storage>
            <specification_table type="quoted_string" >regression_model_template_specification</specification_table>
            <coefficients_storage type="string" >base_cache_storage</coefficients_storage>
            <coefficients_table type="quoted_string" >regression_model_template_coefficients</coefficients_table>
            <sample_coefficients type="boolean" >False</sample_coefficients>
            <cache_storage flags="hidden" type="string" >base_cache_storage</cache_storage>
            <multiplicator type="integer" >1</multiplicator>
          </arguments>
          <output flags="hidden" type="string" >(specification, coefficients, rm_index)</output>
        </prepare_for_run>
        <estimate type="dictionary" >
          <arguments type="dictionary" >
            <specification flags="hidden" type="string" >specification</specification>
            <dataset type="string" >fill in</dataset>
            <dependent_variable config_name="outcome_attribute" type="quoted_string" >fill in</dependent_variable>
            <index flags="hidden" parser_action="blank_to_None" type="string" >rm_index</index>
            <procedure type="quoted_string" >opus_core.estimate_linear_regression</procedure>
            <data_objects flags="hidden" type="string" >datasets</data_objects>
          </arguments>
          <output flags="hidden" type="string" >(coefficients, dummy)</output>
        </estimate>
        <prepare_for_estimate type="dictionary" >
          <name flags="hidden" type="string" >prepare_for_estimate</name>
          <arguments type="dictionary" >
            <dataset parser_action="blank_to_None" type="string" />
            <dataset_filter parser_action="blank_to_None" type="quoted_string" />
            <specification_storage type="string" >base_cache_storage</specification_storage>
            <specification_table type="quoted_string" >regression_model_template_specification</specification_table>
          </arguments>
          <output flags="hidden" type="string" >(specification, rm_index)</output>
        </prepare_for_estimate>
      </regression_model_template>
      <allocation_model_template copyable="True" type="dictionary" >
        <import flags="hidden" type="dictionary" >
          <opus_core.allocation_model type="string" >AllocationModel</opus_core.allocation_model>
        </import>
        <init type="dictionary" >
          <name flags="hidden" type="string" >AllocationModel</name>
        </init>
        <run type="dictionary" >
          <arguments type="dictionary" >
            <dataset type="string" >fill in</dataset>
            <outcome_attribute type="quoted_string" >fill in</outcome_attribute>
            <weight_attribute type="quoted_string" >fill in</weight_attribute>
            <control_totals flags="hidden" type="string" >cts</control_totals>
            <current_year flags="hidden" type="string" >year</current_year>
            <control_total_attribute type="quoted_string" >fill in</control_total_attribute>
            <year_attribute type="quoted_string" >year</year_attribute>
            <capacity_attribute parser_action="blank_to_None" type="quoted_string" />
            <dataset_pool flags="hidden" type="string" >dataset_pool</dataset_pool>
          </arguments>
        </run>
        <prepare_for_run type="dictionary" >
          <name flags="hidden" type="string" >prepare_for_run</name>
          <arguments type="dictionary" >
            <storage type="string" >base_cache_storage</storage>
            <control_totals_table_name type="quoted_string" >fill in</control_totals_table_name>
            <control_totals_id_name type="list" >['year']</control_totals_id_name>
            <control_totals_dataset_name type="quoted_string" >control_totals</control_totals_dataset_name>
          </arguments>
          <output flags="hidden" type="string" >cts</output>
        </prepare_for_run>
      </allocation_model_template>
      <agent_location_choice_model_template copyable="True" type="dictionary" >
        <import flags="hidden" type="dictionary" >
          <urbansim.models.agent_location_choice_model type="string" >AgentLocationChoiceModel</urbansim.models.agent_location_choice_model>
        </import>
        <init type="dictionary" >
          <name flags="hidden" type="string" >AgentLocationChoiceModel</name>
          <arguments type="dictionary" >
            <location_set type="string" >fill in</location_set>
            <sampler type="quoted_string" >opus_core.samplers.weighted_sampler</sampler>
            <utilities type="quoted_string" >opus_core.linear_utilities</utilities>
            <probabilities type="quoted_string" >opus_core.mnl_probabilities</probabilities>
            <choices type="quoted_string" >urbansim.lottery_choices</choices>
            <filter parser_action="blank_to_None" type="quoted_string" />
            <submodel_string parser_action="blank_to_None" type="quoted_string" />
            <location_id_string parser_action="blank_to_None" type="quoted_string" />
            <dataset_pool flags="hidden" type="string" >dataset_pool</dataset_pool>
            <model_name type="quoted_string" >AgentLocationChoiceModel</model_name>
            <short_name type="quoted_string" >ALCM</short_name>
            <variable_package type="quoted_string" >urbansim</variable_package>
            <debuglevel flags="hidden" type="string" >debuglevel</debuglevel>
            <run_config type="dictionary" >
              <sample_size_locations type="integer" >30</sample_size_locations>
              <sample_proportion_locations parser_action="blank_to_None" type="integer" />
              <compute_capacity_flag type="boolean" >True</compute_capacity_flag>
              <capacity_string parser_action="blank_to_None" type="quoted_string" />
              <number_of_units_string parser_action="blank_to_None" type="quoted_string" />
              <number_of_agents_string parser_action="blank_to_None" type="quoted_string" />
              <lottery_max_iterations type="integer" >3</lottery_max_iterations>
            </run_config>
            <estimate_config type="dictionary" >
              <weights_for_estimation_string parser_action="blank_to_None" type="quoted_string" />
              <sample_size_locations type="integer" >30</sample_size_locations>
              <sample_proportion_locations parser_action="blank_to_None" type="integer" />
              <estimation_size_agents type="float" >1.0</estimation_size_agents>
            </estimate_config>
          </arguments>
        </init>
        <prepare_for_estimate type="dictionary" >
          <name flags="hidden" type="string" >prepare_for_estimate</name>
          <output flags="hidden" type="string" >(alcm_specification, alcm_index)</output>
          <arguments type="dictionary" >
            <specification_storage type="string" >base_cache_storage</specification_storage>
            <specification_table type="quoted_string" >agent_location_choice_model_specification</specification_table>
            <agent_set type="string" >fill in</agent_set>
            <agents_for_estimation_storage type="string" >base_cache_storage</agents_for_estimation_storage>
            <agents_for_estimation_table type="quoted_string" >fill in</agents_for_estimation_table>
            <data_objects flags="hidden" type="string" >datasets</data_objects>
            <index_to_unplace flags="hidden" parser_action="blank_to_None" type="string" />
            <join_datasets type="boolean" choices="True|False" >True</join_datasets>
            <portion_to_unplace flags="hidden" type="string" >1.0</portion_to_unplace>
            <filter parser_action="blank_to_None" type="quoted_string" />
            <location_id_variable parser_action="blank_to_None" type="quoted_string" />
          </arguments>
        </prepare_for_estimate>
        <estimate type="dictionary" >
          <output flags="hidden" type="string" >(alcm_coefficients, dummy)</output>
          <arguments type="dictionary" >
            <agent_set type="string" >fill in</agent_set>
            <agents_index flags="hidden" type="string" >alcm_index</agents_index>
            <procedure type="quoted_string" >opus_core.bhhh_mnl_estimation</procedure>
            <data_objects flags="hidden" type="string" >datasets</data_objects>
            <debuglevel flags="hidden" type="string" >debuglevel</debuglevel>
            <specification flags="hidden" type="string" >alcm_specification</specification>
          </arguments>
        </estimate>
        <prepare_for_run type="dictionary" >
          <name flags="hidden" type="string" >prepare_for_run</name>
          <output flags="hidden" type="string" >(alcm_specification, alcm_coefficients)</output>
          <arguments type="dictionary" >
            <coefficients_storage type="string" >base_cache_storage</coefficients_storage>
            <coefficients_table type="quoted_string" >agent_location_choice_model_coefficients</coefficients_table>
            <specification_storage type="string" >base_cache_storage</specification_storage>
            <specification_table type="quoted_string" >agent_location_choice_model_specification</specification_table>
          </arguments>
        </prepare_for_run>
        <run type="dictionary" >
          <arguments type="dictionary" >
            <agent_set type="string" >fill in</agent_set>
            <agents_index flags="hidden" parser_action="blank_to_None" type="string" />
            <chunk_specification type="string" >{'records_per_chunk':50000}</chunk_specification>
            <coefficients flags="hidden" type="string" >alcm_coefficients</coefficients>
            <data_objects flags="hidden" type="string" >datasets</data_objects>
            <debuglevel flags="hidden" type="string" >debuglevel</debuglevel>
            <specification flags="hidden" type="string" >alcm_specification</specification>
            <maximum_runs type="integer" >10</maximum_runs>
          </arguments>
        </run>
      </agent_location_choice_model_template>
    </model_system>
    <estimation type="dictionary" >
      <model_template copyable="True" type="dictionary" >
        <submodel copyable="True" type="submodel" >
          <description type="string" >No submodel</description>
          <submodel_id type="integer" >-2</submodel_id>
          <variables type="variable_list" >var1</variables>
        </submodel>
      </model_template>
      <choice_model_with_equations_template copyable="True" type="dictionary" >
        <submodel copyable="True" type="submodel" >
          <description type="string" >No submodel</description>
          <submodel_id type="integer" >-2</submodel_id>
          <choice_1 copyable="True" type="dictionary" >
            <equation_id type="integer" >1</equation_id>
            <variables type="variable_list" >constant</variables>
          </choice_1>
          <choice_2 copyable="True" type="dictionary" >
            <equation_id type="integer" >2</equation_id>
            <variables type="variable_list" >var1</variables>
          </choice_2>
        </submodel>
      </choice_model_with_equations_template>
      <estimation_config type="dictionary" >
        <cache_directory parser_action="prefix_with_opus_data_path" type="directory" >fill in (relative to OPUS_DATA_PATH)</cache_directory>
        <output_configuration type="class" >
          <Class_name flags="hidden" type="string" >DatabaseConfiguration</Class_name>
          <Class_path flags="hidden" type="string" >opus_core.database_management.database_configuration</Class_path>
          <database_connection type="db_connection_hook" >urbansim_db1</database_connection>
          <database_name type="string" />
        </output_configuration>
        <datasets_to_preload parser_action="list_to_dictionary" type="selectable_list" >
          <my_dataset copyable="True" type="dataset" choices="Load|Skip" >Skip</my_dataset>
        </datasets_to_preload>
        <dataset_pool_configuration type="class" >
          <Class_name flags="hidden" type="string" >DatasetPoolConfiguration</Class_name>
          <Class_path flags="hidden" type="string" >opus_core.configurations.dataset_pool_configuration</Class_path>
          <package_order type="list" >['urbansim', 'opus_core']</package_order>
          <package_order_exceptions type="dictionary" />
        </dataset_pool_configuration>
        <datasets_to_cache_after_each_model type="list" >[]</datasets_to_cache_after_each_model>
        <low_memory_mode type="boolean" >False</low_memory_mode>
        <base_year type="integer" >0</base_year>
        <years type="tuple" >
          <startyear type="integer" >0</startyear>
          <endyear type="integer" >0</endyear>
        </years>
      </estimation_config>
    </estimation>
  </model_manager>
  <results_manager>
    <Indicator_libraries type="group" setexpanded="True" >
      <standard_indicators type="indicator_library" >
        <population type="indicator" >
          <package type="string" >urbansim</package>
          <valid_datasets type="string" >GEOGRAPHY</valid_datasets>
          <documentation_link type="string" />
          <expression type="string" >urbansim.DATASET.population</expression>
        </population>
      </standard_indicators>
      <my_indicators append_to="True" type="indicator_library" />
    </Indicator_libraries>
    <Indicator_batches type="group" setexpanded="True" />
    <Simulation_runs followers="Results" type="all_source_data" setexpanded="True" />
    <Results type="selectable_list" setexpanded="True" />
  </results_manager>
</opus_project>
